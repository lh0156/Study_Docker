# 윤섭_도커란 무엇인가?

<aside>
💡 최근에는 분야를 가리지 않고 Docker를 쓰지 않는곳을 찾아보기 힘들 정도로 범용적으로 Docker를 사용한다. 도대체 뭐하는 프로그램이길래 이렇게 잘 쓰일까? 그리고 그 전에 왜 쓰는걸까?

</aside>

---

## 도커 왜써요?

<aside>
💡 여러 이유가 있지만 가장 중요한 것은 어떤 프로그램을 다운 받는 과정을 굉장히 간단하게 만들기 위함.

</aside>

원래 우리가 카카오톡을 설치할 때의 과정을 보면

1. 카카오톡 Installer 다운
2. 카카오톡 Installer 실행
3. 설치

의 과정을 거쳐야 하는데 3번의 경우에서 에러가 나는 경우가 있다.

그 이유는 Installer는 어떤 서버를 사용하는지? 패키지 버전? 운영 체제 등에 따라 하나하나 맞춰줘야 하기 때문이다.

---

## Redis를 받는 과정

### 도커가 없을 때

Redis 홈페이지로 이동 →  [redis.io](https://redis.io/) → download 

🖥CMD창 (radis 6.0 공식 문서에서 6.0을 받는 방법에 대해 제시한 가이드 코드)

```docker
$ wget http://download.redis.io/releases/redis-6.0.5.tar.gz
$ tar xzf redis-6.0.5.tar.gz
$ cd redis-6.0.5
$ make
 - The binaries Tha are now complied are available in the src directory. Run Redis with:
$ scr/redis-server
 - You can interact with Redis using the buil-in client:
$ src/redis-cli
redis> set too bar
OK redis > get foo
"bar"

```

![Untitled](%E1%84%8B%E1%85%B2%E1%86%AB%E1%84%89%E1%85%A5%E1%86%B8_%E1%84%83%E1%85%A9%E1%84%8F%E1%85%A5%E1%84%85%E1%85%A1%E1%86%AB%20%E1%84%86%E1%85%AE%E1%84%8B%E1%85%A5%E1%86%BA%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A1%2099c3e85fe9e54bac87c8295231d61032/Untitled.png)

ㅇㅋ 해보자 마 ㅋ

![Untitled](%E1%84%8B%E1%85%B2%E1%86%AB%E1%84%89%E1%85%A5%E1%86%B8_%E1%84%83%E1%85%A9%E1%84%8F%E1%85%A5%E1%84%85%E1%85%A1%E1%86%AB%20%E1%84%86%E1%85%AE%E1%84%8B%E1%85%A5%E1%86%BA%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A1%2099c3e85fe9e54bac87c8295231d61032/Untitled%201.png)

에러 발생 왜?? Wget이 없어서;

<aside>
💡 GNU Wget는 웹 서버로부터 콘텐츠를 가져오는 컴퓨터 프로그램으로, GNU 프로젝트의 일부이다. 이 프로그램의 이름은 월드 와이드 웹과 get에서 가져온 것이다. HTTP, HTTPS, FTP 프로토콜을 통해 내려받기를 지원한다.

</aside>

즉 Wget을 설치한 후 다시 저 과정을 반복해줘야함

- 명언 On
    
    ![Untitled](%E1%84%8B%E1%85%B2%E1%86%AB%E1%84%89%E1%85%A5%E1%86%B8_%E1%84%83%E1%85%A9%E1%84%8F%E1%85%A5%E1%84%85%E1%85%A1%E1%86%AB%20%E1%84%86%E1%85%AE%E1%84%8B%E1%85%A5%E1%86%BA%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A1%2099c3e85fe9e54bac87c8295231d61032/Untitled%202.png)
    
    코딩하기도 바쁜데……. 셋팅에 시간 낭비 하지말자…
    

### 도커가 있을 때

🖥CMD창

```docker
docker run -it redis
```

이게 끝임!

![Untitled](%E1%84%8B%E1%85%B2%E1%86%AB%E1%84%89%E1%85%A5%E1%86%B8_%E1%84%83%E1%85%A9%E1%84%8F%E1%85%A5%E1%84%85%E1%85%A1%E1%86%AB%20%E1%84%86%E1%85%AE%E1%84%8B%E1%85%A5%E1%86%BA%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A1%2099c3e85fe9e54bac87c8295231d61032/Untitled%203.png)

                                                                               휘리릭 숑

더욱 놀라운점!!!!! Redis의 운영 정책 변경?!(22년 5월 29일 기준 7.0버전!) [redis.io](https://redis.io/) 

---

### 그래서 도커가 뭔데?

<aside>
💡 정의: 컨테이너를 사용하여 응용프로그램을 더 쉽게 만들고 배포하고 실행할 수 있도록 설계된 도구이며

</aside>

컨테이너 기반의 오픈 소스 가상화 플랫폼이며 생태계입니다.

**컨테이너는 뭔데유?**

![Untitled](%E1%84%8B%E1%85%B2%E1%86%AB%E1%84%89%E1%85%A5%E1%86%B8_%E1%84%83%E1%85%A9%E1%84%8F%E1%85%A5%E1%84%85%E1%85%A1%E1%86%AB%20%E1%84%86%E1%85%AE%E1%84%8B%E1%85%A5%E1%86%BA%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A1%2099c3e85fe9e54bac87c8295231d61032/Untitled%204.png)

도커의 공식 문서에는 “도커가 무엇인가?”를 설명하기 이전에 “컨테이너가 무엇인가?”를 먼저 설명하고 있다. 그만큼 중요하다는 것

![Untitled](%E1%84%8B%E1%85%B2%E1%86%AB%E1%84%89%E1%85%A5%E1%86%B8_%E1%84%83%E1%85%A9%E1%84%8F%E1%85%A5%E1%84%85%E1%85%A1%E1%86%AB%20%E1%84%86%E1%85%AE%E1%84%8B%E1%85%A5%E1%86%BA%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A1%2099c3e85fe9e54bac87c8295231d61032/Untitled%205.png)

일반적으로 우리가 “컨테이너"라는 물체를 논할때 물건을 넣고 다양한 운송 수단으로 옮기기 위해 담는 용도를 뜻한다.

서버에서 컨테이너 개념도 비슷한데

![Untitled](%E1%84%8B%E1%85%B2%E1%86%AB%E1%84%89%E1%85%A5%E1%86%B8_%E1%84%83%E1%85%A9%E1%84%8F%E1%85%A5%E1%84%85%E1%85%A1%E1%86%AB%20%E1%84%86%E1%85%AE%E1%84%8B%E1%85%A5%E1%86%BA%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A1%2099c3e85fe9e54bac87c8295231d61032/Untitled%206.png)

                                                                          (짤린거 무시해라)

이렇게 다양한 프로그램, 실행 환경을 컨테이너로 추상화하고 동일한 인터페이스를 제공하여 프로그램의 배포 및 관리를 단순하게 해주는 것이다.

일반 컨테이너의 개념에서 물건을 쉽게 운송해주는 것처럼 프로그램을 손쉽게 이동 배포 관리를 할 수 있게 해준다.

(AWS, Azure, Google Could 등 어디에서든 실행 가능하게 해줌)

<aside>
💡 즉, 프로그램을 쉽게 이동, 배포, 관리할 수 있게 해줌 ㅋ..ㅋ

</aside>

---

### 도커 이미지와 컨테이너

<aside>
💡 복습

컨테이너는 코드와 모든 종속성을 패키지화하여 응용 프로그램이 한 컴퓨팅 환경에서 다른 컴퓨팅 환경으로 빠르고 안정적으로 실행되도록 하는 소프트웨어의 표준 단위이다.

</aside>

컨테이너 이미지?

<aside>
💡 → 코드, 런타임, 시스템 도구 시스템 라이브러리 및 설정과 같은 응**용 프로그램을 실행하는 데 필요한 모든 것을 포함**하는 가볍고 실행 가능한 소프트웨어 패키지이다

</aside>

![Untitled](%E1%84%8B%E1%85%B2%E1%86%AB%E1%84%89%E1%85%A5%E1%86%B8_%E1%84%83%E1%85%A9%E1%84%8F%E1%85%A5%E1%84%85%E1%85%A1%E1%86%AB%20%E1%84%86%E1%85%AE%E1%84%8B%E1%85%A5%E1%86%BA%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A1%2099c3e85fe9e54bac87c8295231d61032/Untitled%207.png)

이미지를 이용해서 컨테이너를 만들고 Container를 실행해서 Application에서 돌아가는 것이다.

즉, Container는 Image의 Instance이고, Application에서 실행하기 위해선 Container가 필요하다.

---

### Docker 사용 흐름

Docker Client (CLI)에 명령어를 입력하면 Docker Server(Demon Server라고도 함)

Client에서 명령을 보내주면 서버가 처리하는 형식으로 구성되어 있음!

### Hello World!

Hello World를 찍어보는것으로 발표 마치자

**전제: 도커 메뉴를 클릭했을 때 Docker Desktop is running이라고 떠있어야 실행 가능**

![Untitled](%E1%84%8B%E1%85%B2%E1%86%AB%E1%84%89%E1%85%A5%E1%86%B8_%E1%84%83%E1%85%A9%E1%84%8F%E1%85%A5%E1%84%85%E1%85%A1%E1%86%AB%20%E1%84%86%E1%85%AE%E1%84%8B%E1%85%A5%E1%86%BA%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A1%2099c3e85fe9e54bac87c8295231d61032/Untitled%208.png)

CMD에 docker run hello-world (hello-world라는 이미지를 실행시킨다는 뜻)

이때 내부적으로 일어난 일

- 도커 클라이언트에 커맨드를 입력해서 클라이언트 → Docker 서버로 요청을 보낸다
- 서버에서 hello-world라는 이미지가 이미 로컬에 cache가 되어있는지 확인.
- 현재는 없기 때문에 unable to find image 머시기 머시기가 뜸.

![Untitled](%E1%84%8B%E1%85%B2%E1%86%AB%E1%84%89%E1%85%A5%E1%86%B8_%E1%84%83%E1%85%A9%E1%84%8F%E1%85%A5%E1%84%85%E1%85%A1%E1%86%AB%20%E1%84%86%E1%85%AE%E1%84%8B%E1%85%A5%E1%86%BA%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A1%2099c3e85fe9e54bac87c8295231d61032/Untitled%209.png)

- 이후 Docker Hub라는 이미지가 저장되어 있는 곳에 가서 그 이미지를 가져오고 로컬에 Cache로 보관한다.
- 그 후 이제는 이미지가 있는 상태이므로 해당 이미지를 사용하여 컨테이너를 생성한다.

![Untitled](%E1%84%8B%E1%85%B2%E1%86%AB%E1%84%89%E1%85%A5%E1%86%B8_%E1%84%83%E1%85%A9%E1%84%8F%E1%85%A5%E1%84%85%E1%85%A1%E1%86%AB%20%E1%84%86%E1%85%AE%E1%84%8B%E1%85%A5%E1%86%BA%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%80%E1%85%A1%2099c3e85fe9e54bac87c8295231d61032/Untitled%2010.png)